DEFS: |
  def get_total(journal, cat):
    total = 0
    for entry in journal:
      if entry[3] == cat:
        total += entry[2]

    return total

journal:
  - [2016-03-01, rent, 10000, housing]
  - [2016-03-02, fuel, 300, vehicle]
  - [2016-03-03, maintenance, 1000, housing]
  - [2016-03-03, bike service, 500, vehicle]
  - [2016-03-03, fruits, 1000, food]
  - [2016-03-04, snacks, 200, food]
  - [2016-03-05, water, 35, food]
  - [2016-03-07, fuel, 300, vehicle]
  - [2016-03-08, movie, 360, leisure]
  - [2016-03-08, grocery, 2000, food]

categories: ["food", "housing", "leisure", "vehicle"]

VIEW:
  type: chart
  chart: bar
  table:
    columns: ["Category", "Total"]
    rows: = [[cat.title(), get_total(journal, cat)] for cat in categories]
